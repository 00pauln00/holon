---
    #Get multiple client uuids using common task.
    - name: "Get multiple client uuids."
      include_role:
        name: common
        tasks_from: get_multiple_client_uuids
      loop: "{{ range(0, number_of_clients) | list }}" #loop for no. of required client uuids.

    #Create set of required number of app_uuids.
    - name: "Get set of required number of app_uuids."
      include_role:
        name: common
        tasks_from: create_app_uuid_set
      vars:
        number_of_apps: "{{ number_of_app_uuids }}"

    #Generate list of random number of writes.( random number per app uuid)
    - name: "Generate list of random number of writes for app_uuids."
      vars:
        num_writes: "{{ 1000 | random(start=100) }}"
      set_fact:
          num_writes_list: "{{ num_writes_list | default([]) + [num_writes] }}"
      loop: "{{ range(0, number_of_app_uuids) | list }}"

    #start multiple clients.
    - name: "Start multiple client processes."
      include_role:
        name: common
        tasks_from: start_client
      vars:
        ClientUUID: "{{ ClientUUIDS[item] }}"
      loop: "{{ range(0, ClientUUIDS | length) |list }}"

    #Perform write operations for multiple clients. (passing one client at a time.)
    - name: "Perform write operations for multiple clients."
      include_role:
         name: common
         tasks_from: perform_writes
      vars:
        pmdb_apps: "{{ pmdb_app_uuids }}"
        ClientUUID: "{{ ClientUUIDS[idx] }}"
      loop: "{{ range(0, ClientUUIDS | length) |list }}"
      loop_control:
              loop_var: idx
