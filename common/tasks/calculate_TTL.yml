---

    - name: "{{ recipe_name }}: Perform 'get_lease' operation."
      vars:
         input_param: {
                'client': '{{ ClientUUID }}',
                'resource': '{{ ResourceUUID }}',
                'outFileName': 'get_lease_{{ ResourceUUID }}'
                 }
         leaseApp: "{{ lookup('lease_feature', 'GET', input_param, wantlist=True) }}"
      debug:
         msg: "get lease operation"
      with_items:
          - "{{ leaseApp }}"
      register: getLease

    - set_fact:
        get_TS: "{{ getLease['results'][0]['item']['Response']['timestamp'] }}"
        get_TTL: "{{ getLease['results'][0]['item']['Response']['TTL'] }}"

    - name: "{{ recipe_name }}: Perform 'lookup_lease' operation."
      vars:
         input_param: {
                'resource': '{{ ResourceUUID }}',
                'outFileName': '{{ outFile }}'
                 }
          lookup_lease: "{{ lookup('lease_feature', 'lookup_lease', input_param, wantlist=True) }}"
      debug:
         msg: "get the lease information"
      with_items:
          - "{{ lookup_lease }}"
      register: lookup_lease_data

    - vars:
       curr_TS:  "{{ lookup_lease_data['results'][0]['item']['Response']['timestamp'] }}"
      set_fact:
        calculate_TS: "{{ curr_TS - get_TS}}"
        calculate_TTL: "{{ get_TTL - calculate_TS }}"

