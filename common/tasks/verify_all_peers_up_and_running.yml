    #Recipe Setup: If the cluster is not booted, the recipe should abort.
    - name: "{{ recipe_name }}: Get the state from all peers."
      vars:
         stage: "check_booting_stage"
         state_key:
            - "/raft_root_entry/0/state"
      set_fact:
         verify_cluster_requirement: "{{ lookup('niova_ctlrequest', 'lookup', NRunningPeers, state_key, wantlist=True) }}"
      failed_when:
        verify_cluster_requirement == "booting"

